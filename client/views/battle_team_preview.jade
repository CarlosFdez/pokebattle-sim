mixin displayTeam(team, klass)
  .row-fluid(class = klass)
    each pokemon in team.pokemon
      .span2.button
        .pokemon_icon(style = window.PokemonIconBackground(pokemon.name))

mixin displayPokemon(pokemon, i)
  .team_pokemon
    - var style = window.PokemonIconBackground(pokemon.name)
    .pokemon_icon(data-index = i, style = style)
  if pokemon.gender === 'F'
    .gender.gender_female &#9792;
  else if pokemon.gender === 'M'
    .gender.gender_male &#9794;
  if pokemon.level != 100
    .level Lv.#{pokemon.level}

.battle_teams
  - var theirTeam = teams[1 - yourIndex]
  - var yourTeam = teams[yourIndex]
  section.battle_team_preview
    p Your opponent's team:
    ul.row-fluid.unstyled
      each pokemon in theirTeam.pokemon
        li.span2
          +displayPokemon(pokemon)

  section.battle_team_preview
    p Drag and rearrange your team:
    ul.row-fluid.unstyled
      - for (var i = 0; i < numActive; i++)
        li.span2.lead_text
          if numActive > 1
            | Lead #{i + 1}
          else
            | Lead
    ul.arrange_team.row-fluid.unstyled
      each pokemon, i in yourTeam.pokemon
        li.span2.img-polaroid
          +displayPokemon(pokemon, i)

    .button.submit_arrangement Start battle
